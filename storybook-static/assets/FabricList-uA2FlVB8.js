import{j as e,D as g,a as f}from"./DriftIndicator-1SzGZTX-.js";import{r as u}from"./index-C3JiJ1qr.js";function b({onCreateFabric:r,onCancel:n,isCreating:t}){const[d,s]=u.useState(""),a=()=>{d.trim()&&(r(d.trim()),s(""))};return e.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"1rem",marginBottom:"2rem",backgroundColor:"#f9f9f9"},children:[e.jsx("h3",{children:"Create New Fabric"}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("input",{type:"text",placeholder:"Enter fabric name...",value:d,onChange:i=>s(i.target.value),onKeyPress:i=>i.key==="Enter"&&a(),style:{width:"300px",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",marginRight:"0.5rem"},autoFocus:!0,disabled:t}),e.jsx("button",{onClick:a,disabled:!d.trim()||t,style:{padding:"0.5rem 1rem",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"0.5rem",opacity:!d.trim()||t?.6:1},children:t?"Creating...":"Create"}),e.jsx("button",{onClick:n,disabled:t,style:{padding:"0.5rem 1rem",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]})]})}const j=r=>{switch(r){case"draft":return"#666";case"computed":return"#1976d2";case"saved":return"#388e3c";default:return"#666"}},y=r=>{switch(r){case"draft":return"Draft";case"computed":return"Computed";case"saved":return"Saved";default:return"Unknown"}};function C({fabric:r,onSelectFabric:n,onDeleteFabric:t,onCheckDrift:d}){return e.jsx("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"1.5rem",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#333"},children:r.name}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"bold",color:"white",backgroundColor:j(r.status)},children:y(r.status)}),e.jsx(g,{driftStatus:r.driftStatus||null,onClick:d?()=>d(r.id):void 0,compact:!0})]}),e.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[e.jsxs("div",{children:["Created: ",r.createdAt.toLocaleDateString()]}),e.jsxs("div",{children:["Modified: ",r.lastModified.toLocaleDateString()]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexShrink:0},children:[e.jsx("button",{onClick:()=>n(r.id),style:{padding:"0.5rem 1rem",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem"},children:"Select"}),e.jsx("button",{onClick:()=>{confirm(`Are you sure you want to delete "${r.name}"?`)&&t(r.id)},style:{padding:"0.5rem 1rem",backgroundColor:"#d32f2f",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem"},children:"Delete"})]})]})})}function w({errors:r}){return r.length===0?null:e.jsxs("div",{style:{color:"red",backgroundColor:"#ffebee",padding:"1rem",borderRadius:"4px",marginBottom:"1rem"},children:[e.jsx("h3",{style:{margin:"0 0 0.5rem 0"},children:"Errors:"}),e.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:r.map((n,t)=>e.jsx("li",{children:n},t))})]})}function k(){return e.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#666",backgroundColor:"#f5f5f5",borderRadius:"4px"},children:[e.jsx("h3",{children:"No fabrics created yet"}),e.jsx("p",{children:"Create your first fabric to get started with network design"})]})}function F({fabrics:r,onCreateFabric:n,onSelectFabric:t,onDeleteFabric:d,onCheckDrift:s,onViewDriftDetails:a,errors:i,isCreating:m}){const[l,c]=u.useState(!1),x=o=>{n(o),c(!1)},h=()=>{c(!1)},p=r.filter(o=>o.driftStatus?.hasDrift).length;return e.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("h1",{children:"HNC Fabric Workspace"}),e.jsx(f,{driftCount:p,onClick:a})]}),!l&&e.jsx("button",{onClick:()=>c(!0),style:{padding:"0.5rem 1rem",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Create New Fabric"})]}),e.jsx(w,{errors:i}),l&&e.jsx(b,{onCreateFabric:x,onCancel:h,isCreating:m}),r.length===0&&!l&&e.jsx(k,{}),r.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{children:["Your Fabrics (",r.length,")"]}),e.jsx("div",{style:{display:"grid",gap:"1rem"},children:r.map(o=>e.jsx(C,{fabric:o,onSelectFabric:t,onDeleteFabric:d,onCheckDrift:s},o.id))})]})]})}export{F};
